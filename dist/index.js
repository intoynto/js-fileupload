!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports,require("react")):"function"==typeof define&&define.amd?define(["exports","react"],t):t((e="undefined"!=typeof globalThis?globalThis:e||self)["intoy-fileupload"]={},e.React)}(this,(function(e,t){"use strict";function a(e){return e&&"object"==typeof e&&"default"in e?e:{default:e}}var n=a(t);function r(e,t){return r=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},r(e,t)}function l(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function i(e,t){if(void 0===t&&(t=2),null==e)return"0 byte";var a=function(e){if(null==e)return 0;if("number"==typeof e)return e;if("string"==typeof e){var t=parseFloat(e);return isNaN(t)?0:t}return 0}(e),n=t<0?0:t,r=Math.floor(Math.log(a)/Math.log(1024));if(r===-1/0)return"0 byte";var l=parseInt(r.toString());return Math.round(a/Math.pow(1024,l)).toFixed(n)+" "+["byte","Kb","Mb","Gb","Tb"][l]}var o=function(e){var t,a;function o(t){var a;return(a=e.call(this,t)||this).ndInput=null,a.iUid="file-go-"+Math.random().toString(36).substr(2,9),a._key=0,a.hDrgEnter=a.hDrgEnter.bind(l(a)),a.hDrgOver=a.hDrgOver.bind(l(a)),a.hDrop=a.hDrop.bind(l(a)),a.hDrgLeave=a.hDrgLeave.bind(l(a)),a.hCh=a.hCh.bind(l(a)),a.onClear=a.onClear.bind(l(a)),a.state=a.gInitState(t),a}a=e,(t=o).prototype=Object.create(a.prototype),t.prototype.constructor=t,r(t,a);var f=o.prototype;return f.gInitState=function(e){return{dragType:"",file:null,blob:null}},f.callPropsChange=function(e){"function"==typeof this.props.onChange&&this.props.onChange(e)},f.hCh=function(e){var t=this;e.preventDefault();var a=e.currentTarget.files?e.currentTarget.files:[],n=a[0],r=(n?n.type:"").toString().toLowerCase().trim();if(["image/png","image/jpg","image/jpeg","image/bmp","image/svg+xml"," \timage/tiff","image/webp"].indexOf(r)>=0){var l=new FileReader;return l.onload=function(e){t.setState({file:n,blob:e.currentTarget.result},(function(){t.callPropsChange(a)}))},l.onerror=function(){t.setState({file:null,blob:null},(function(){t.callPropsChange(a)}))},void l.readAsDataURL(n)}this.setState({file:n,blob:null},(function(){t.callPropsChange(a)}))},f.hDrgEnter=function(e){this.setState({dragType:e.type})},f.hDrgOver=function(e){e.preventDefault(),this.setState({dragType:e.type})},f.hDrop=function(e){var t=this;e.preventDefault();var a=e.dataTransfer?e.dataTransfer.files:[],n=a[0],r=(n?n.type:"").toString().toLowerCase().trim(),l=["image/png","image/jpg","image/jpeg","image/bmp","image/svg+xml"," \timage/tiff","image/webp"].indexOf(r)>=0;this._key++;var i=function(){var e=t.ndInput;if(e){var a=new ClipboardEvent("").clipboardData||new DataTransfer;a.items.add(n),e.files=a.files}};if(l){var o=new FileReader;return o.onload=function(e){t.setState({dragType:"",file:n,blob:e.currentTarget.result},(function(){i(),t.callPropsChange(a)}))},o.onerror=function(){t.setState({dragType:"",file:null,blob:null},(function(){t.callPropsChange(a)}))},void o.readAsDataURL(n)}this.setState({dragType:"",file:n,blob:null},(function(){i(),t.callPropsChange(a)}))},f.hDrgLeave=function(e){this.setState({dragType:""})},f.onClear=function(e){var t=this;e&&e.preventDefault(),this._key++,this.setState({file:null,blob:null},(function(){t.callPropsChange([])}))},f.rdrFileInfo=function(){var e=this.state;e.dragType;var t=e.file;return e.blob,n.default.createElement("div",{className:"fU--file"},n.default.createElement("div",null,n.default.createElement("div",{className:"fU--flex"},n.default.createElement("div",{className:"fU--flexAuto"},n.default.createElement("div",{className:"fU--fileInfo"},n.default.createElement("div",{className:"fU--fileInfoMain"},n.default.createElement("div",{className:"fU--aria"},"Â "),n.default.createElement("div",{className:"fU--text"},t.name)),n.default.createElement("div",null,"Size ",i(t.size)))),n.default.createElement("div",null,n.default.createElement("a",{className:"fU--removeTrigger",onClick:this.onClear},n.default.createElement("svg",{width:"26",height:"26",viewBox:"0 0 26 26",xmlns:"http://www.w3.org/2000/svg"},n.default.createElement("path",{d:"M11.586 13l-2.293 2.293a1 1 0 0 0 1.414 1.414L13 14.414l2.293 2.293a1 1 0 0 0 1.414-1.414L14.414 13l2.293-2.293a1 1 0 0 0-1.414-1.414L13 11.586l-2.293-2.293a1 1 0 0 0-1.414 1.414L11.586 13z",fill:"currentColor","fill-rule":"nonzero"})))))))},f.render=function(){var e=this,t=this.props,a=this.state,r=a.dragType,l=a.file,i=a.blob,o=""!==r,f=null!=l,s={src:i};return n.default.createElement("div",{className:"fU "+(o?"fU--drag":""),style:{position:"relative"},onDragEnter:this.hDrgEnter,onDragOver:this.hDrgOver,onDragLeave:this.hDrgLeave,onDrop:this.hDrop},n.default.createElement("div",{style:{padding:"0.5rem"}},n.default.createElement("input",Object.assign({ref:function(t){return e.ndInput=t},key:this._key,type:"file",name:""+(t.name?t.name:"file"),style:{position:"absolute",margin:0,padding:0,left:"1em",top:"1.75em",width:"calc(100% - 2em)",fontSize:"0",opacity:0},id:this.iUid,onChange:this.hCh},{})),n.default.createElement("div",{style:{position:"relative",display:"flex",justifyContent:"center",alignItems:"center",minHeight:"46px"}},n.default.createElement("label",{id:this.iUid,htmlFor:this.iUid},t.renderLabel&&t.renderLabel({hasDrag:o,hasFile:f}),!t.renderLabel&&n.default.createElement("span",null,o&&n.default.createElement("span",null,"Lepaskan file disini"),!o&&n.default.createElement("span",null,"Drag & Drop file atau ",n.default.createElement("a",null,"Browse"))))),l&&n.default.createElement("div",{className:"fU--handle"},i&&n.default.createElement("div",{className:"fU--imagePreview"},this.rdrFileInfo(),n.default.createElement("div",{className:"fU--posterWrapper"},n.default.createElement("div",{className:"fU--filePoster"},n.default.createElement("img",Object.assign({},s))))),!i&&n.default.createElement("div",{className:"fU--blob"},this.rdrFileInfo()))))},o}(n.default.Component);e.FileUpload=o,Object.defineProperty(e,"__esModule",{value:!0})}));
//# sourceMappingURL=index.js.map
