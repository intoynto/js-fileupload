{"version":3,"file":"fileupload.js","mappings":"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","sources":["webpack://fileupload/webpack/universalModuleDefinition","webpack://fileupload/./src/index.tsx","webpack://fileupload/external umd \"react\"","webpack://fileupload/webpack/bootstrap","webpack://fileupload/webpack/startup"],"sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory(require(\"react\"));\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine(\"fileupload\", [\"react\"], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"fileupload\"] = factory(require(\"react\"));\n\telse\n\t\troot[\"fileupload\"] = factory(root[\"react\"]);\n})(self, function(__WEBPACK_EXTERNAL_MODULE__156__) {\nreturn ","import React from \"react\";\r\n\r\n// npm i filepond --save\r\n\r\nfunction toFloat(value:any)\r\n{\r\n    if(value===null || value===undefined) return 0;\r\n    if(typeof value===\"number\")\r\n    {\r\n        return value;\r\n    }\r\n\r\n    if(typeof value===\"string\")\r\n    {\r\n        let val=parseFloat(value);\r\n        val=isNaN(val)?0:val;\r\n        return val;\r\n    }\r\n\r\n    return 0;\r\n}\r\n\r\nfunction toFileSize(bytes:string | number | null | undefined,digit:number=2)\r\n{\r\n    if(bytes===null || bytes===undefined) return '0 byte';\r\n\r\n    const sizes=['byte', 'Kb', 'Mb', 'Gb', 'Tb'];\r\n    const val:number=toFloat(bytes) as number;\r\n    const dm=digit<0?0:digit;\r\n    const nol=Math.floor(Math.log(val) / Math.log(1024));\r\n\r\n    if(nol===-Infinity) return '0 byte';\r\n\r\n    const i=parseInt(nol.toString());\r\n    return Math.round(val/Math.pow(1024,i)).toFixed(dm)+' '+sizes[i];\r\n}\r\n\r\ntype IrdrLabelProps = {\r\n    hasFile:boolean\r\n    hasDrag:boolean\r\n}\r\n\r\nconst getUniqueId = () => Math.random().toString(36).substr(2, 9);\r\n\r\ntype IlocalProps = {\r\n    onChange?:(files:any)=>void\r\n    name?:string\r\n    renderLabel?:(props:IrdrLabelProps)=>JSX.Element\r\n}\r\n\r\ntype Istate = {\r\n    dragType:string  \r\n    file:File | null | undefined\r\n    blob:Blob | null | undefined\r\n}\r\n\r\nclass FileUpload<P extends IlocalProps,S extends Istate> extends React.Component<P,S>\r\n{\r\n    private iUid:string;\r\n    private _key:number;\r\n    private ndInput:any=null;\r\n\r\n    constructor(props:P)\r\n    {\r\n        super(props);\r\n        this.iUid=`file-go-${getUniqueId()}`;\r\n        this._key=0;\r\n        this.hDrgEnter=this.hDrgEnter.bind(this);\r\n        this.hDrgOver=this.hDrgOver.bind(this);\r\n        this.hDrop=this.hDrop.bind(this);\r\n        this.hDrgLeave=this.hDrgLeave.bind(this);\r\n        this.hCh=this.hCh.bind(this);\r\n        this.onClear=this.onClear.bind(this);\r\n        this.state=this.gInitState(props);\r\n    }\r\n\r\n    protected gInitState(props?:P):S\r\n    {\r\n        const s:S={\r\n            dragType:'',            \r\n            file:null,\r\n            blob:null,\r\n        } as S;\r\n        return s;\r\n    }\r\n\r\n    protected callPropsChange(files:any)\r\n    {\r\n        typeof this.props.onChange==='function'?this.props.onChange(files):null;\r\n    }\r\n\r\n    protected hCh(e:React.ChangeEvent<HTMLInputElement>)\r\n    {        \r\n        e.preventDefault();\r\n        const files=e.currentTarget.files?e.currentTarget.files:[];        \r\n        const file=files[0];\r\n        let type=(file?file.type:'').toString().toLowerCase().trim();        \r\n        const hasImage=['image/png','image/jpg','image/jpeg','image/bmp','image/svg+xml',' \timage/tiff','image/webp'].indexOf(type)>=0;\r\n        if(hasImage)\r\n        {\r\n            const reader=new FileReader();\r\n            reader.onload=(re:ProgressEvent<FileReader>)=>{\r\n                //console.log(re.currentTarget.result);\r\n                this.setState({file:file,blob:((re.currentTarget as any).result)},()=>{\r\n                    this.callPropsChange(files);\r\n                });\r\n            };\r\n            reader.onerror=()=>{\r\n                this.setState({file:null,blob:null},()=>{\r\n                    this.callPropsChange(files);\r\n                });\r\n            }\r\n            reader.readAsDataURL(file);\r\n            return;\r\n        }\r\n        this.setState({file:file,blob:null},()=>{\r\n            this.callPropsChange(files);\r\n        });\r\n    }\r\n\r\n    protected hDrgEnter(e:React.DragEvent<HTMLElement>)\r\n    {\r\n        this.setState({dragType:e.type});\r\n    }\r\n    \r\n    protected hDrgOver(e:React.DragEvent<HTMLElement>){\r\n        e.preventDefault();\r\n        this.setState({dragType:e.type});\r\n    }\r\n    \r\n    protected hDrop(e:React.DragEvent<HTMLElement>)\r\n    {\r\n        e.preventDefault();  \r\n        const files=e.dataTransfer?e.dataTransfer.files:[];\r\n        const file=files[0];       \r\n        let type=(file?file.type:'').toString().toLowerCase().trim();        \r\n        const hasImage=['image/png','image/jpg','image/jpeg','image/bmp','image/svg+xml',' \timage/tiff','image/webp'].indexOf(type)>=0;\r\n        this._key++;\r\n\r\n        const proper=()=>{\r\n            const input:HTMLInputElement=this.ndInput;\r\n            if(!input) return;\r\n            const b=new ClipboardEvent(\"\").clipboardData || new DataTransfer();\r\n            b.items.add(file);\r\n            (input as any).files=b.files;\r\n        };\r\n\r\n        if(hasImage)\r\n        {\r\n            const reader=new FileReader();\r\n            reader.onload=(re:ProgressEvent<FileReader>)=>\r\n            {\r\n                //console.log(re.currentTarget.result);\r\n                this.setState({dragType:'',file:file,blob:((re.currentTarget as any).result)},()=>{\r\n                    proper();\r\n                    this.callPropsChange(files);\r\n                });\r\n            };\r\n            reader.onerror=()=>{\r\n                this.setState({dragType:'',file:null,blob:null},()=>{\r\n                    this.callPropsChange(files);\r\n                });\r\n            }\r\n            reader.readAsDataURL(file);\r\n            return;\r\n        }\r\n\r\n        this.setState({dragType:'',file:file,blob:null},()=>{\r\n            proper();\r\n            this.callPropsChange(files);\r\n        });\r\n    }\r\n\r\n    protected hDrgLeave(e:React.DragEvent<HTMLElement>)\r\n    {\r\n        this.setState({dragType:''});\r\n    }\r\n\r\n    protected onClear(e?:React.MouseEvent)\r\n    {\r\n        if(e) e.preventDefault();\r\n        this._key++;\r\n        this.setState({file:null,blob:null},()=>{\r\n            this.callPropsChange([]);\r\n        });\r\n    }\r\n\r\n    protected rdrFileInfo()\r\n    {\r\n        const {dragType,file,blob}=this.state;\r\n        return (\r\n            <div className=\"fU--file\">\r\n                <div>\r\n                    <div className=\"fU--flex\">\r\n                        <div className=\"fU--flexAuto\">\r\n                            <div className='fU--fileInfo'>\r\n                                <div className=\"fU--fileInfoMain\">\r\n                                    <div className=\"fU--aria\">&nbsp;</div>\r\n                                    <div className=\"fU--text\">{(file as File).name}</div>\r\n                                </div>\r\n                                <div>Size {toFileSize((file as File).size)}</div>\r\n                            </div>\r\n                        </div>\r\n                        <div>\r\n                            <a className='fU--removeTrigger' onClick={this.onClear}>\r\n                                <svg width=\"26\" height=\"26\" viewBox=\"0 0 26 26\" xmlns=\"http://www.w3.org/2000/svg\">\r\n                                    <path d=\"M11.586 13l-2.293 2.293a1 1 0 0 0 1.414 1.414L13 14.414l2.293 2.293a1 1 0 0 0 1.414-1.414L14.414 13l2.293-2.293a1 1 0 0 0-1.414-1.414L13 11.586l-2.293-2.293a1 1 0 0 0-1.414 1.414L11.586 13z\" fill=\"currentColor\" fill-rule=\"nonzero\"></path>\r\n                                </svg>\r\n                            </a>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        );\r\n    }\r\n\r\n    render()\r\n    {\r\n        const props=this.props;\r\n        const {dragType,file,blob}=this.state;\r\n        const hasDrag=dragType!=='';\r\n        const hasFile=file!==null && file!==undefined;\r\n\r\n        const cntStyle:React.CSSProperties=\r\n        {\r\n            position:'relative',\r\n        };\r\n\r\n        const inpStyle:React.CSSProperties={\r\n            position:'absolute',\r\n            margin:0,\r\n            padding:0,\r\n            left:'1em',\r\n            top:'1.75em',\r\n            width:'calc(100% - 2em)',\r\n            fontSize:'0',\r\n            opacity:0,\r\n        };\r\n        const lbCtnStyle:React.CSSProperties={\r\n            position:'relative',\r\n            display:'flex',\r\n            justifyContent:'center',\r\n            alignItems:'center',           \r\n            minHeight:'46px',\r\n        };\r\n        const inpProps:any={\r\n            //value:file?file.name:'',\r\n        };\r\n        const imgProps:any={\r\n            src:blob\r\n        }\r\n        return (\r\n            <div className={`fU ${hasDrag?'fU--drag':''}`} style={cntStyle} onDragEnter={this.hDrgEnter} onDragOver={this.hDrgOver} onDragLeave={this.hDrgLeave} onDrop={this.hDrop}>\r\n                <div style={{padding:'0.5rem'}}>\r\n                    <input ref={fn=>this.ndInput=fn} key={this._key} type=\"file\" name={`${props.name?props.name:'file'}`} style={inpStyle} id={this.iUid} onChange={this.hCh} {...inpProps} />\r\n                    <div style={lbCtnStyle}>\r\n                        <label id={this.iUid} htmlFor={this.iUid}>\r\n                            {props.renderLabel && props.renderLabel({hasDrag,hasFile})}\r\n                            {(!props.renderLabel) && <span>\r\n                                    {hasDrag && <span>Lepaskan file disini</span>}\r\n                                    {!hasDrag && <span>Drag & Drop file atau <a>Browse</a></span>}\r\n                            </span>}\r\n                        </label>\r\n                    </div>\r\n                    {file && \r\n                    <div className='fU--handle'>\r\n                        {blob && <div className=\"fU--imagePreview\">\r\n                            {this.rdrFileInfo()}\r\n                            <div className=\"fU--posterWrapper\">\r\n                                <div className=\"fU--filePoster\">\r\n                                    <img {...imgProps} />\r\n                                </div>                                \r\n                            </div>\r\n                        </div>}\r\n                        {(!blob) && \r\n                        <div className=\"fU--blob\">\r\n                            {this.rdrFileInfo()}\r\n                        </div>\r\n                        }\r\n                    </div>\r\n                    }\r\n                </div>\r\n            </div>\r\n        );\r\n    } \r\n}\r\n\r\nexport {FileUpload}","module.exports = __WEBPACK_EXTERNAL_MODULE__156__;","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n","// startup\n// Load entry module and return exports\n// This entry module is referenced by other modules so it can't be inlined\nvar __webpack_exports__ = __webpack_require__(976);\n"],"names":["root","factory","exports","module","require","define","amd","self","__WEBPACK_EXTERNAL_MODULE__156__","toFloat","value","val","parseFloat","isNaN","FileUpload","props","ndInput","iUid","Math","random","toString","substr","_key","hDrgEnter","bind","hDrgOver","hDrop","hDrgLeave","hCh","onClear","state","gInitState","dragType","file","blob","files","this","onChange","e","preventDefault","currentTarget","type","toLowerCase","trim","indexOf","reader","FileReader","onload","re","setState","result","callPropsChange","onerror","readAsDataURL","dataTransfer","hasImage","proper","input","b","ClipboardEvent","clipboardData","DataTransfer","items","add","className","name","bytes","digit","sizes","dm","nol","floor","log","i","parseInt","round","pow","toFixed","toFileSize","size","onClick","width","height","viewBox","xmlns","d","fill","hasDrag","hasFile","imgProps","src","style","position","onDragEnter","onDragOver","onDragLeave","onDrop","padding","ref","fn","key","margin","left","top","fontSize","opacity","id","display","justifyContent","alignItems","minHeight","htmlFor","renderLabel","rdrFileInfo","Component","__webpack_module_cache__","__webpack_exports__","__webpack_require__","moduleId","cachedModule","undefined","__webpack_modules__","call"],"sourceRoot":""}